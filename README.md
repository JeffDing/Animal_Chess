# 斗兽棋小游戏

一个基于Python Flask开发的斗兽棋游戏，支持人人对战、人机对战和AI自动对战三种模式。

## 功能特点

1. **精美的UI设计**
   - 美观的渐变色棋盘
   - 精致的棋子设计，带有动态效果
   - 流畅的动画和交互

2. **三种对战模式**
   - **人人对战**: 两位玩家轮流操作
   - **人机对战**: 玩家与AI对战
   - **AI对战**: AI自动对战

3. **完整的游戏规则**
   - 大吃小规则（象>狮>虎>豹>狼>狗>猫>鼠）
   - 老鼠可以吃大象
   - 只有老鼠可以进入河流
   - 狮子和老虎可以跳过河流
   - 陷阱和兽穴的特殊规则

4. **智能AI**
   - 基于评估函数的AI决策
   - 考虑多种策略因素
   - 随机因素增加游戏变化

5. **游戏控制**
   - 随时可以开始新游戏
   - 游戏结束后不会自动开始新局
   - 显示当前回合和游戏状态

## 安装和运行

### 环境要求

- Python 3.6+
- Flask

### 安装依赖

```bash
pip install flask
```

### 运行游戏

```bash
cd doushouqi
python app.py
```

游戏将在 `http://localhost:5000` 启动。

## 游戏规则

1. **基本规则**
   - 双方轮流移动棋子，每次只能移动一格
   - 大棋子可以吃小棋子（象>狮>虎>豹>狼>狗>猫>鼠）
   - 老鼠可以吃大象，但不能从水里吃岸上的棋子

2. **特殊规则**
   - 只有老鼠可以进入河流
   - 狮子和老虎可以跳过河流（河中不能有老鼠）
   - 进入对方陷阱的棋子会被对方任意棋子吃掉
   - 进入对方兽穴即获胜
   - 吃掉对方所有棋子即获胜

3. **获胜条件**
   - 进入对方兽穴
   - 吃掉对方所有棋子
   - 对方无路可走

## 文件结构

```
doushouqi/
├── app.py              # Flask应用主文件
├── game_logic.py       # 游戏逻辑实现
├── static/
│   ├── style.css       # 样式文件
│   └── game.js         # 前端JavaScript逻辑
├── templates/
│   └── index.html      # 主页面
└── README.md           # 说明文档
```

## 技术栈

- **后端**: Python Flask
- **前端**: HTML5, CSS3, JavaScript
- **设计**: 响应式设计，支持移动端

## 开发说明

### 游戏逻辑

游戏核心逻辑在 `game_logic.py` 中实现，包括：
- 棋子类 `Piece`
- 游戏类 `DoushouqiGame`
- 移动验证、吃子规则、胜负判断等

### AI实现

AI逻辑在 `app.py` 的 `evaluate_move` 函数中实现，考虑了以下因素：
- 吃子价值
- 兽穴距离
- 棋子安全
- 陷阱控制
- 随机变化

### 前端交互

前端使用原生JavaScript实现，包括：
- 棋盘渲染
- 点击交互
- 状态更新
- AI对战控制

## 许可证

MIT License
